(this["webpackJsonpbattleship-ai-react-app"]=this["webpackJsonpbattleship-ai-react-app"]||[]).push([[0],{12:function(e,r,t){},13:function(e,r,t){},15:function(e,r,t){},16:function(e,r,t){"use strict";t.r(r);var n=t(1),i=t.n(n),c=t(7),a=t.n(c),l=(t(12),t(6)),s=t(2),o=(t(13),t(0));var u=function(e){var r=e.didUserWin,t=e.onPlayAgainClick;return Object(o.jsxs)("div",{className:"grow",style:{margin:60,textAlign:"center"},children:[Object(o.jsx)("h2",{children:r?"You won!":"You lost!"}),Object(o.jsx)("button",{onClick:t,className:"button",children:"Play again"})]})};t(15);var f=function(e){var r,t=e.value,n=e.x,i=e.y,c=e.hideShips,a=e.onCellClick;switch(t){case"W":r="royalblue";break;case"M":r="lightgray";break;case"D":r="black";break;case"H":r="crimson";break;case"S":r=c?"royalblue":"green";break;default:r="white"}return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{onClick:function(){return a(n,i)},className:"cell",style:{background:r}})})};var b=function(e){for(var r=e.board,t=e.hideShips,n=e.onCellClick,i=[],c=0;c<r.length;c++){for(var a=[],l=0;l<r[c].length;l++)a.push(Object(o.jsx)(f,{value:r[c][l],x:l,y:c,hideShips:t,onCellClick:n},c+" "+l));i.push(Object(o.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:a},c))}return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{children:i})})};var j=function(e){var r=e.onDonePlacingShipsClick;return Object(o.jsxs)("div",{style:{textAlign:"center",width:"30vw",margin:"auto 0"},children:[Object(o.jsx)("p",{children:"Your goal is to sink all of the AI's ships before it can sink yours."}),Object(o.jsx)("p",{children:"To start, place the following ships horizontally or verically by clicking cells on the grid:"}),Object(o.jsxs)("p",{children:["Carrier (5 spaces)",Object(o.jsx)("br",{}),"Battleship (4 spaces)",Object(o.jsx)("br",{}),"Cruiser (3 spaces)",Object(o.jsx)("br",{}),"Submarine (3 spaces)",Object(o.jsx)("br",{}),"Destroyer (2 spaces)"]}),Object(o.jsx)("button",{onClick:r,className:"button",children:"I'm done placing my ships"})]})};var h=function(){var e=Array.from(Array(10),(function(e){return Array(10).fill("W")})),r=Array.from(Array(10),(function(e){return Array(10).fill("W")})),t=[[.5,.5,.5,.5,.5,.5,.5,.5,.5,.5],[.5,.6,.6,.6,.6,.6,.6,.6,.6,.5],[.5,.6,.7,.7,.7,.7,.7,.7,.6,.5],[.5,.6,.7,.8,.8,.8,.8,.7,.6,.5],[.5,.6,.7,.8,.9,.9,.8,.7,.6,.5],[.5,.6,.7,.8,.9,.9,.8,.7,.6,.5],[.5,.6,.7,.8,.8,.8,.8,.7,.6,.5],[.5,.6,.7,.7,.7,.7,.7,.7,.6,.5],[.5,.6,.6,.6,.6,.6,.6,.6,.6,.5],[.5,.5,.5,.5,.5,.5,.5,.5,.5,.5]],i=Object(n.useState)(e),c=Object(s.a)(i,2),a=c[0],f=c[1],h=Object(n.useState)(r),d=Object(s.a)(h,2),v=d[0],O=d[1],p=Object(n.useState)(t),x=Object(s.a)(p,2),g=x[0],k=x[1],y=Object(n.useState)(!0),S=Object(s.a)(y,2),m=S[0],C=S[1],A=Object(n.useState)(null),w=Object(s.a)(A,2),W=w[0],P=w[1];function F(e,r){return Math.floor(Math.random()*(r-e)+e)}function H(e){for(var r,t,n;;){var i=r=F(0,10),c=t=F(0,10);if(0===(n=F(0,2)))if(t<5){for(var a=!0,l=0;l<e+1;l++)if("W"!==v[i][c++]){a=!1;break}if(a){for(var s=0;s<e;s++)v[r][t++]="S";break}}else{for(var o=!0,u=0;u<e+1;u++)if("W"!==v[i][c--]){o=!1;break}if(o){for(var f=0;f<e;f++)v[r][t--]="S";break}}else if(1===n)if(r<5){for(var b=!0,j=0;j<e+1;j++)if("W"!==v[i++][c]){b=!1;break}if(b){for(var h=0;h<e;h++)v[r++][t]="S";break}}else{for(var d=!0,O=0;O<e+1;O++)if(!(i<0)&&"W"!==v[i--][c]){d=!1;break}if(d){for(var p=0;p<e;p++)v[r--][t]="S";break}}}}function I(e,r){if(0<=r&&r<10&&0<=e&&e<10)return!0}function D(e,r){return 0===g[e][r]||!!(I(e-1,r)&&0===g[e-1][r]&&I(e+1,r)&&0===g[e+1][r]&&I(e,r+1)&&0===g[e][r+1]&&I(e,r-1)&&0===g[e][r-1])}function M(e){switch(e){case"W":return"M";case"S":return"H";default:return null}}function N(e){for(var r=0;r<e.length;r++)for(var t=0;t<e[r].length;t++)if("S"===e[r][t])return!1;return!0}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("header",{children:Object(o.jsx)("h1",{children:"BATTLESHIP AI"})}),null!=W&&Object(o.jsx)(u,{didUserWin:W,onPlayAgainClick:function(){f(e),O(r),k(t),C(!0),P(null)}}),Object(o.jsxs)("div",{className:"game",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"You"}),Object(o.jsx)(b,{board:a,hideShips:!1,onCellClick:function(e,r){m&&f((function(t){var n=t.map((function(e){return e.slice()}));return n[r][e]="S"===n[r][e]?"W":"S",n}))}})]}),m?Object(o.jsx)(j,{onDonePlacingShipsClick:function(){H(5),H(4),H(3),H(3),H(2),C((function(){return!1}))}}):Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"AI"}),Object(o.jsx)(b,{board:v,hideShips:!0,onCellClick:function(e,r){null==W&&!1!==function(e,r){var t=M(v[r][e]);return null!=t&&(v[r][e]=t,O((function(e){return Object(l.a)(e)})),!0)}(e,r)&&(N(v)?P(!0):(!function(){var e=function(){for(var e,r=0,t=0;t<g.length;t++)for(var n=0;n<g[t].length;n++)g[t][n]>r&&(r=g[t][n],e={x:n,y:t});return e}(),r=e.x,t=e.y,n=M(a[t][r]);(function(e,r,t){switch(t){case"M":g[r][e]=-1;break;case"H":g[r][e]=0,function(e,r){var t=.8,n=e+1;I(n,r)&&!D(n,r)&&(g[n][r]+=g[n][r]*t);I(n=e-1,r)&&!D(n,r)&&(g[n][r]+=g[n][r]*t);I(e,n=r+1)&&!D(e,n)&&(g[e][n]+=g[e][n]*t);I(e,n=r-1)&&!D(e,n)&&(g[e][n]+=g[e][n]*t)}(r,e);var n=function(e,r){if(I(e+1,r)&&0===g[e+1][r]||I(e-1,r)&&0===g[e-1][r])return"V";if(I(e,r+1)&&0===g[e][r+1]||I(e,r-1)&&0===g[e][r-1])return"H";return null}(r,e);n&&function(e,r,t){var n=3;if("H"===t){console.log("Orientation updating ",{orientation:t});for(var i=r;I(e,i)&&0===g[e][i];)i++;I(e,i)&&(g[e][i]+=g[e][i]*n);for(var c=r;I(e,c)&&0===g[e][c];)c--;I(e,c)&&(g[e][c]+=g[e][c]*n)}else if("V"===t){for(var a=e;I(a,r)&&0===g[a][r];)a++;I(a,r)&&(g[a][r]+=g[a][r]*n);for(var l=e;I(l,r)&&0===g[l][r];)l--;I(l,r)&&(g[l][r]+=g[l][r]*n)}}(r,e,n)}})(r,t,n),a[t][r]=n,f((function(e){return Object(l.a)(e)}))}(),N(a)&&P(!1)))}})]})]}),Object(o.jsx)("footer",{children:Object(o.jsx)("a",{href:"https://github.com/avdagama/battleship-ai-react-app",children:"View project on GitHub"})})]})},d=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,17)).then((function(r){var t=r.getCLS,n=r.getFID,i=r.getFCP,c=r.getLCP,a=r.getTTFB;t(e),n(e),i(e),c(e),a(e)}))};a.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root")),d()}},[[16,1,2]]]);
//# sourceMappingURL=main.80ad6cb2.chunk.js.map