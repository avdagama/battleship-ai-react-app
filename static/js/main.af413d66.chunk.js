(this["webpackJsonpbattleship-ai-react-app"]=this["webpackJsonpbattleship-ai-react-app"]||[]).push([[0],{12:function(e,r,t){},13:function(e,r,t){},15:function(e,r,t){},16:function(e,r,t){"use strict";t.r(r);var n=t(1),c=t.n(n),i=t(7),a=t.n(i),s=(t(12),t(6)),l=t(2),o=(t(13),t(0));var u=function(e){var r=e.didUserWin,t=e.onPlayAgainClick;return Object(o.jsxs)("div",{className:"grow",style:{margin:60,textAlign:"center"},children:[Object(o.jsx)("h2",{children:r?"You won!":"You lost!"}),Object(o.jsx)("button",{onClick:t,className:"button",children:"Play again"})]})};t(15);var b=function(e){var r,t=e.value,n=e.x,c=e.y,i=e.hideShips,a=e.onCellClick;switch(t){case"W":r="royalblue";break;case"M":r="lightgray";break;case"D":r="black";break;case"H":r="crimson";break;case"S":r=i?"royalblue":"green";break;default:r="white"}return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{onClick:function(){return a(n,c)},className:"cell",style:{background:r}})})};var j=function(e){for(var r=e.board,t=e.hideShips,n=e.onCellClick,c=[],i=0;i<r.length;i++){for(var a=[],s=0;s<r[i].length;s++)a.push(Object(o.jsx)(b,{value:r[i][s],x:s,y:i,hideShips:t,onCellClick:n},i+" "+s));c.push(Object(o.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:a},i))}return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{children:c})})};var f=function(e){var r=e.onDonePlacingShipsClick;return Object(o.jsxs)("div",{style:{textAlign:"center",width:"30vw",margin:"auto 0"},children:[Object(o.jsx)("p",{children:"Your goal is to sink all of the AI's ships before it can sink yours."}),Object(o.jsx)("p",{children:"To start, place the following ships horizontally or verically by clicking cells on the grid:"}),Object(o.jsxs)("p",{children:["Carrier (5 spaces)",Object(o.jsx)("br",{}),"Battleship (4 spaces)",Object(o.jsx)("br",{}),"Cruiser (3 spaces)",Object(o.jsx)("br",{}),"Submarine (3 spaces)",Object(o.jsx)("br",{}),"Destroyer (2 spaces)"]}),Object(o.jsx)("button",{onClick:r,className:"button",children:"I'm done placing my ships"})]})};var h=function(){var e=Array.from(Array(10),(function(e){return Array(10).fill("W")})),r=Array.from(Array(10),(function(e){return Array(10).fill("W")})),t=[[.7,.7,.7,.7,.7,.7,.7,.7,.7,.7],[.7,.7,.7,.7,.7,.7,.7,.7,.7,.7],[.7,.7,.8,.8,.8,.8,.8,.8,.7,.7],[.7,.7,.8,.8,.8,.8,.8,.8,.7,.7],[.7,.7,.8,.8,.9,.9,.8,.8,.7,.7],[.7,.7,.8,.8,.9,.9,.8,.8,.7,.7],[.7,.7,.8,.8,.8,.8,.8,.8,.7,.7],[.7,.7,.8,.8,.8,.8,.8,.8,.7,.7],[.7,.7,.7,.7,.7,.7,.7,.7,.7,.7],[.7,.7,.7,.7,.7,.7,.7,.7,.7,.7]],c=Object(n.useState)(e),i=Object(l.a)(c,2),a=i[0],b=i[1],h=Object(n.useState)(r),d=Object(l.a)(h,2),O=d[0],v=d[1],x=Object(n.useState)(t),p=Object(l.a)(x,2),g=p[0],k=p[1],y=Object(n.useState)(!0),S=Object(l.a)(y,2),m=S[0],C=S[1],A=Object(n.useState)(null),w=Object(l.a)(A,2),W=w[0],P=w[1];function F(e,r){return Math.floor(Math.random()*(r-e)+e)}function I(e){for(var r,t,n;;){var c=r=F(0,10),i=t=F(0,10);if(0===(n=F(0,2)))if(t<5){for(var a=!0,s=0;s<e+1;s++)if("W"!==O[c][i++]){a=!1;break}if(a){for(var l=0;l<e;l++)O[r][t++]="S";break}}else{for(var o=!0,u=0;u<e+1;u++)if("W"!==O[c][i--]){o=!1;break}if(o){for(var b=0;b<e;b++)O[r][t--]="S";break}}else if(1===n)if(r<5){for(var j=!0,f=0;f<e+1;f++)if("W"!==O[c++][i]){j=!1;break}if(j){for(var h=0;h<e;h++)O[r++][t]="S";break}}else{for(var d=!0,v=0;v<e+1;v++)if(!(c<0)&&"W"!==O[c--][i]){d=!1;break}if(d){for(var x=0;x<e;x++)O[r--][t]="S";break}}}}function D(e,r,t){for(var n=t?1:.4,c=0;c<3;c++){var i=t?1+n:1-n;M(e-c,r)&&(g[e-c][r]*=i),M(e,r+c)&&(g[e][r+c]*=i),M(e+c,r)&&(g[e+c][r]*=i),M(e,r-c)&&(g[e][r-c]*=i),n-=.1}}function M(e,r){if(0<=r&&r<10&&0<=e&&e<10)return!0}function H(e){switch(e){case"W":return"M";case"S":return"H";default:return null}}function N(e){for(var r=0;r<e.length;r++)for(var t=0;t<e[r].length;t++)if("S"===e[r][t])return!1;return!0}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("header",{children:Object(o.jsx)("h1",{children:"BATTLESHIP AI"})}),null!=W&&Object(o.jsx)(u,{didUserWin:W,onPlayAgainClick:function(){b(e),v(r),k(t),C(!0),P(null)}}),Object(o.jsxs)("div",{className:"game",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"You"}),Object(o.jsx)(j,{board:a,hideShips:!1,onCellClick:function(e,r){m&&b((function(t){var n=t.map((function(e){return e.slice()}));return n[r][e]="S"===n[r][e]?"W":"S",n}))}})]}),m?Object(o.jsx)(f,{onDonePlacingShipsClick:function(){I(5),I(4),I(3),I(3),I(2),C((function(){return!1}))}}):Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"AI"}),Object(o.jsx)(j,{board:O,hideShips:!0,onCellClick:function(e,r){null==W&&!1!==function(e,r){var t=H(O[r][e]);return null!=t&&(O[r][e]=t,v((function(e){return Object(s.a)(e)})),!0)}(e,r)&&(N(O)?P(!0):(!function(){var e=function(){for(var e,r=0,t=0;t<g.length;t++)for(var n=0;n<g[t].length;n++)g[t][n]>r&&(r=g[t][n],e={x:n,y:t});return e}(),r=e.x,t=e.y,n=H(a[t][r]);(function(e,r,t){switch(g[r][e]=0,t){case"M":D(r,e,!1);break;case"H":D(r,e,!0)}})(r,t,n),a[t][r]=n,b((function(e){return Object(s.a)(e)}))}(),N(a)&&P(!1)))}})]})]}),Object(o.jsx)("footer",{children:Object(o.jsx)("a",{href:"https://github.com/avdagama/battleship-ai-react-app",children:"View project on GitHub"})})]})},d=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,17)).then((function(r){var t=r.getCLS,n=r.getFID,c=r.getFCP,i=r.getLCP,a=r.getTTFB;t(e),n(e),c(e),i(e),a(e)}))};a.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root")),d()}},[[16,1,2]]]);
//# sourceMappingURL=main.af413d66.chunk.js.map